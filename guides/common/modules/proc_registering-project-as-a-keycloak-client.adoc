[id="registering-project-as-a-keycloak-client_{context}"]
= Registering {Project} as a {Keycloak} Client
Use this procedure to register {Project} to {Keycloak} as a client and configure {Project} to use {Keycloak} as an authentication source.

.Procedure

. On the {Project} server, install the following packages:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# {package-install-project} mod_auth_openidc keycloak-httpd-client-install
----

. Register {Project} to {Keycloak} as a client:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# keycloak-httpd-client-install --app-name foreman-openidc \
--keycloak-server-url "_https://{Keycloak-short}.com:8443_" \
--keycloak-admin-username "_admin_" \
--keycloak-realm "_{Project}_Realm_" \
--keycloak-admin-realm master \
--keycloak-auth-role root-admin \
-t openidc -l /users/extlogin --force
----
+
Enter the password for the administer account when prompted.
This command creates a client for {Project} in {Keycloak}.

. To configure {Project} to use {Keycloak} as an authentication source, enter the following command:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# satellite-installer --foreman-keycloak true \
--foreman-keycloak-app-name "foreman-openidc" \
--foreman-keycloak-realm "_{Project}_Realm_"
----

. Restart the `httpd` service:
+
[options="nowrap", subs="verbatim,quotes,attributes"]
----
# systemctl restart httpd
----
