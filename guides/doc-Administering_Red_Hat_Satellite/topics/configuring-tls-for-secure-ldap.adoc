[id='configuring-tls-for-secure-ldap_{context}']
= Configuring TLS for Secure LDAP

Use the Satellite CLI to configure TLS for secure LDAP (LDAPS).

.Procedure

. Obtain the Certificate from the LDAP Server.

.. If you use Active Directory Certificate Services, export the Enterprise PKI CA Certificate using the Base-64 encoded X.509 format. See link:https://access.redhat.com/solutions/1498773[How to configure Active Directory authentication with `TLS` on Satellite 6] for information on creating and exporting a CA certificate from an Active Directory server.

.. Download the LDAP server certificate to a temporary location on the Red{nbsp}Hat Enterprise{nbsp}Linux system where the Satellite Server is installed and remove it when finished. 
+
For example, `/tmp/example.crt`. The filename extensions `.cer` and `.crt` are only conventions and can refer to DER binary or PEM ASCII format certificates.

. Trust the Certificate from the LDAP Server.
+
Red{nbsp}Hat Satellite Server requires the CA certificates for LDAP authentication to be individual files in `/etc/pki/tls/certs/` directory.

.. Use the `install` command to install the imported certificate into the `/etc/pki/tls/certs/` directory with the correct permissions:
+
[options="nowrap" subs="+quotes,verbatim"]
----
# install /tmp/_example.crt_ /etc/pki/tls/certs/
----
.. Enter the following command as `root` to trust the _example.crt_ certificate obtained from the LDAP server:
+
[options="nowrap" subs="+quotes,verbatim"]
----
# ln -s _example.crt_ /etc/pki/tls/certs/$(openssl \ 
x509 -noout -hash -in \
/etc/pki/tls/certs/_example.crt_).0
----
+
.. Restart the `httpd` service:
+
[options="nowrap" subs="+quotes,verbatim"]
----
# systemctl restart httpd
----
